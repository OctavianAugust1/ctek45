!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}({0:function(t,e,n){n("Jgz6"),t.exports=n("ORW7")},Jgz6:function(t,e,n){"use strict";n.r(e);var o=n("QoMa");document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('form:not([action="/login"])').forEach((function(t){var e=t.action;t.querySelector(".form-box__input-text--patents")&&Object(o.changedNamePatent)(t,e),t.querySelector(".form-box__textarea--about-us")&&Object(o.changedTextAboutUs)(t,e),t.querySelector(".development__input-text, .form-box__input-text--article")&&Object(o.changedNameAndDescDev)(t,e),t.querySelector(".dropdown__list--change-category")&&Object(o.changeCategory)(t,e),t.querySelector("button")&&Object(o.requestBtn)(t,e)}))}))},ORW7:function(t,e){},QoMa:function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){r=function(t,e){return new u(t,void 0,e)};var n=c(RegExp),i=RegExp.prototype,l=new WeakMap;function u(t,e,o){var r=n.call(this,t,e);return l.set(r,o||l.get(t)),r}function d(t,e){var n=l.get(e);return Object.keys(n).reduce((function(e,o){return e[o]=t[n[o]],e}),Object.create(null))}return a(u,n),u.prototype.exec=function(t){var e=i.exec.call(this,t);return e&&(e.groups=d(e,this)),e},u.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var n=l.get(this);return i[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"==typeof e){var r=this;return i[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!==o(t[t.length-1])&&t.push(d(t,r)),e.apply(this,t)}))}return i[Symbol.replace].call(this,t,e)},r.apply(this,arguments)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,o)}function o(){return i(t,arguments,d(this).constructor)}return o.prototype=Object.create(t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u(o,t)})(t)}function i(t,e,n){return(i=l()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var r=new(Function.bind.apply(t,o));return n&&u(r,n.prototype),r}).apply(null,arguments)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,r,a=[],c=!0,i=!1;try{for(n=n.call(t);!(c=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);c=!0);}catch(t){i=!0,r=t}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.r(e),n.d(e,"uploadFiles",(function(){return p})),n.d(e,"lazyLoadImage",(function(){return g})),n.d(e,"animateEmergence",(function(){return _})),n.d(e,"forTheEntireWindow",(function(){return y})),n.d(e,"deleteImage",(function(){return h})),n.d(e,"rotateCategory",(function(){return b})),n.d(e,"hamburger",(function(){return w})),n.d(e,"textEditor",(function(){return S})),n.d(e,"textEdited",(function(){return E})),n.d(e,"sortCategory",(function(){return q})),n.d(e,"upButton",(function(){return L})),n.d(e,"dragAndDrop",(function(){return x})),n.d(e,"patent_item_add",(function(){return A})),n.d(e,"development_item_add",(function(){return T})),n.d(e,"development_images_add",(function(){return O})),n.d(e,"category_add",(function(){return k})),n.d(e,"article_add",(function(){return j})),n.d(e,"sendRequest",(function(){return P})),n.d(e,"changedNamePatent",(function(){return M})),n.d(e,"changedTextAboutUs",(function(){return C})),n.d(e,"change_main_page_inf",(function(){return D})),n.d(e,"changedNameAndDescDev",(function(){return H})),n.d(e,"changeCategory",(function(){return N})),n.d(e,"response",(function(){return B})),n.d(e,"requestBtn",(function(){return R}));var f='\n\t<svg class="delete-image__svg" viewBox="0 0 352 512">\n\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t</path>\n\t</svg>\n',v={patent_item_add:function(t){return'\n\t\t\t\t<div class="patents__item">\n\t\t\t\t\t<div class="patents__thumbnail">\n\t\t\t\t\t\t<div class="patents__thumbnail-image for-the-entire-window"><img class="patents__thumbnail-img" src="'.concat(t.patent.patent_preview_small,'" data="').concat(t.patent.patent_preview_small,'" data-big="').concat(t.patent.patent_preview_big,'" alt=""></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form form--change-text" action="').concat(window.location.origin,'/api/change_information_patent" method="POST">\n\t\t\t\t\t\t<div class="form-box form-box--patents">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="hidden" name="id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t\t<input class="form-box__input-text form-box__input-text--patents" type="text" name="name" value="').concat(t.patent.name,'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form patents__form" action="').concat(window.location.origin,'/api/change_patent" method="POST" enctype="multipart/form-data">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t<div class="form-box form-box--patents">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="file" name="image_patent" accept="image/*">\n\t\t\t\t\t\t\t<input class="input-button form-box__input-btn" type="button" value="Обзор">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button">Загрузить другую картинку</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form patents__form" action="').concat(window.location.origin,'/api/delete_patent" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="patent_id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t<button class="form__button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t')},development_item_add:function(t,e){return'\n\t\t\t\t<div class="developments__item">\n\t\t\t\t\t<div class="developments__thumbnail">\n\t\t\t\t\t\t<img class="developments__thumbnail-img for-the-entire-window" src="'.concat(t.development.development_preview_small,'" data="').concat(t.development.development_preview_small,'" data-big="').concat(t.development.development_preview_big,'" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="developments__name">').concat(t.development.name,'</span>\n\t\t\t\t\t<span class="caption">Категория</span>\n\t\t\t\t\t<div class="dropdown dropdown--select-category">\n\t\t\t\t\t\t<form class="form form--dropdown" action="').concat(window.location.origin,'/api/change_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<select class="dropdown__list dropdown__list--select-category dropdown__list--change-category" name="category">\n\t\t\t\t\t\t\t<option class="dropdown__item dropdown__item--disabled" disabled>Категория:</option>\n\t\t\t\t\t\t\t').concat(e,'\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form developments__item--form" action="').concat(window.location.origin,'/api/change_development_preview_image" method="POST" enctype="multipart/form-data">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="file" name="preview_development" accept="image/*">\n\t\t\t\t\t\t\t<input class="input-button form-box__input-btn" type="button" value="Обзор">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button">Загрузить другую картинку</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form" class="delete_development" action="').concat(window.location.origin,'/api/delete_development" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t<button class="form__button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<a class="link button" href="').concat(window.location.origin,"/development/").concat(t.development.id,'">Подробнее</a>\n\t\t\t\t</div>\n\t\t\t')},development_images_add:function(t){return'\n\t\t\t\t<div class="development__thumbnail-image">\n\t\t\t\t\t<img class="development__thumbnail-img for-the-entire-window" src="'.concat(window.location.origin,"/").concat(t.development_preview_small,'" data="').concat(window.location.origin,"/").concat(t.development_preview_small,'" data-big="').concat(window.location.origin,"/").concat(t.development_preview_big,'" alt="">\n\t\t\t\t\t<div class="delete-image">\n\t\t\t\t\t\t<svg class="delete-image__svg" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form form--development__thumbnail" action="').concat(window.location.origin,'/api/delete_image_development" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="path" value="').concat(t.development_preview_small,'">\n\t\t\t\t\t\t<button class="form__button">Удалить изображение</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t')},category_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i="",l="",u="",d="";return n&&!a||(i='\n\t\t\t\t\t<div class="category__arrow-up">\n\t\t\t\t\t\t<form class="form form--category" action="'.concat(window.location.origin,'/api/up_rotate_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="rotating_id" value="').concat(t.rotating_id,'">\n\t\t\t\t\t\t\t<input type="hidden" name="category" value="').concat(t.category,'">\n\t\t\t\t\t\t\t<button class="form__button form__button--category">Изменить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t'),!a)?o&&!c||(l='\n\t\t\t\t\t<div class="category__arrow-down">\n\t\t\t\t\t\t<form class="form form--category" action="'.concat(window.location.origin,'/api/down_rotate_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="rotating_id" value="').concat(t.rotating_id,'">\n\t\t\t\t\t\t\t<input type="hidden" name="category" value="').concat(t.category,'">\n\t\t\t\t\t\t\t<button class="form__button form__button--category">Изменить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t'),!c)?(e||(u='\n\t\t\t\t\t<form class="form form--admin" action="'.concat(window.location.origin,'/api/change_category_name" method="POST">\n\t\t\t\t\t\t<input type="hidden" value="').concat(t.id,'" name="id">\n\t\t\t\t\t\t<div class="form-box form-box--admin">\n\t\t\t\t\t\t\t<input class="form-box__input-text" type="text" value="').concat(t.category,'" name="category">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button button">Изменить</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form class="form form--admin" action="').concat(window.location.origin,'/api/delete_category" method="POST">\n\t\t\t\t\t\t<input type="hidden" value="').concat(t.id,'" name="id">\n\t\t\t\t\t\t<button class="form__button button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t')),r&&(d="rotating-category"),'\n\t\t\t\t<div class="category '.concat(d,'">\n\t\t\t\t\t').concat(i,"\n\t\t\t\t\t").concat(l,'\n\t\t\t\t\t<div class="category__right-block">\n\t\t\t\t\t\t<span class="category__name">').concat(t.category,"</span>\n\t\t\t\t\t\t").concat(u,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")):l:i},article_add:function(t){return'\n\t\t\t\t<div class="article">\n\t\t\t\t\t<span class="article__name">'.concat(t.name,'</span>\n\t\t\t\t\t<div class="article__buttons">\n\t\t\t\t\t\t<form action="').concat(window.location.origin,'/api/delete_article" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.id,'">\n\t\t\t\t\t\t\t<button class="form__button">Удалить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<a class="link button article__button" href="').concat(window.location.origin,"/article/").concat(t.id,'">Читать далее...</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t')},sendRequest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(o,r){var a=new XMLHttpRequest;a.open(t,e),a.responseType="json",a.setRequestHeader("Accept","application/json"),document.querySelector('meta[name="api_token"]')&&a.setRequestHeader("Authorization","Bearer ".concat(document.querySelector('meta[name="api_token"]').content)),a.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),a.onload=function(){a.status>=400?r(a.response):o(a.response)},a.onerror=function(){return r(a.response)},a.send(n)}))},changedNamePatent:function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t.querySelector("".concat(o,".form-box__input-text--patents")),a=!1;r.addEventListener("input",(function(){r.defaultValue=r.value;var o=new FormData(t);1==a&&clearTimeout(n),a=!0,n=setTimeout((function(){P("POST",e,o).catch((function(t){return console.log(t)})),a=!1}),500)}))},changedTextAboutUs:function(t,e){var n,o=document.querySelector(".form-box__textarea--about-us"),r=!1,a=o.value;setInterval((function(){if(o.value!=a){var c=new FormData(t);1==r&&clearTimeout(n),r=!0,n=setTimeout((function(){P("POST",e,c).catch((function(t){return console.log(t)})),r=!1}),500)}a=o.value}),500)},change_main_page_inf:function(t,e,n,o){t.addEventListener("DOMSubtreeModified",(function(){var t=new FormData;t.append("id",e),t.append("text",n.getData()),P("POST",o,t).catch((function(t){return console.log(t)}))}))},changedNameAndDescDev:function(t,e){var n;document.querySelector(".development__input-text, .development__textarea")?n=document.querySelectorAll(".development__input-text, .development__textarea"):document.querySelector(".form-box__input-text--article, .article__text")&&(n=document.querySelectorAll(".form-box__input-text--article, .article__text")),n.forEach((function(n){var o,r=!1;if("textarea"==n.type){var a=n.value;setInterval((function(){if(n.value!=a){var c=new FormData(t);1==r&&clearTimeout(o),r=!0,o=setTimeout((function(){P("POST",e,c).catch((function(t){return console.log(t)})),r=!1}),500)}a=n.value}),500)}n.addEventListener("input",(function(){var n=new FormData(t);1==r&&clearTimeout(o),r=!0,o=setTimeout((function(){P("POST",e,n).catch((function(t){return console.log(t)})),r=!1}),500)}))}))},changeCategory:function(t,e){t.parentElement.querySelector(".dropdown__list--change-category").addEventListener("change",(function(){var n=new FormData(t);P("POST",e,n).catch((function(t){return console.log(t)}))}))},requestBtn:function(t,e){t.querySelector("button").addEventListener("click",(function(n){n.preventDefault();var o=new FormData(t);t.classList.add("formSend"),t.querySelector(".form__button").classList.add("sendFormButton"),P("POST",e,o).then((function(n){t.querySelector(".error")&&t.querySelectorAll(".error").forEach((function(t){return t.remove()}));B(t,n,e)})).catch((function(e){(t.classList.remove("formSend"),t.querySelector(".form__button").classList.remove("sendFormButton"),t.querySelector(".error"))&&t.querySelectorAll(".error").forEach((function(t){return t.remove()}));for(var n in e.errors){var o=t.querySelector('[name*="'.concat(n,'"]')),r=document.createElement("div");r.className="error",r.textContent="".concat(e.errors[n]),"selectCategory"!=o.parentElement.id?t.insertBefore(r,o.parentElement):t.insertBefore(r,o.parentElement.parentElement)}}))}))},response:function(t,e,n){t.classList.remove("formSend"),t.querySelector(".form__button").classList.remove("sendFormButton");var o=document.createElement("div");(o.className="successPopUp",o.textContent="Выполнено успешно",document.body.append(o),setTimeout((function(){return o.remove()}),3e3),t.querySelector('[type="file"]'))&&t.querySelectorAll('[type="file"]').forEach((function(t){return t.value=null}));switch(n){case window.location.origin+"/api/upload_patent":document.querySelector(".grid--patents").insertAdjacentHTML("beforeend",A(e)),t.querySelector('[name="name"]').value="",t.querySelector(".preview").remove(),y(".patents__item:nth-last-child(1) "),p(".patents__item:nth-last-child(1) "),document.querySelectorAll(".patents__item:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&R(t,t.action)}));var r=document.querySelector('.patents__item:nth-last-child(1) [name="name"]').closest("form");M(r,r.action,".patents__item:nth-last-child(1) ");break;case window.location.origin+"/api/delete_patent":var a=t.closest(".patents__item");a.classList.add("removing"),a.addEventListener("transitionend",(function(){return a.remove()}));break;case window.location.origin+"/api/change_patent":var c=t.closest(".patents__item");c.querySelector(".patents__thumbnail-img").src=e.patent.patent_preview_small,c.querySelector(".for-the-entire-window img").dataset.big=e.patent.patent_preview_big,t.querySelector(".preview").remove();break;case window.location.origin+"/api/upload_development":document.querySelector(".grid--developments").insertAdjacentHTML("beforeend",T(e,function(){for(var t=e.development.category,n=e.development.categories,o="",r=0;r<n.length;r++)t==n[r]?o+='<option class="dropdown__item" selected>'.concat(n[r],"</option>\n"):o+='<option class="dropdown__item">'.concat(n[r],"</option>\n");return o}())),p(".developments__item:nth-last-child(1) "),y(".developments__item:nth-last-child(1) "),selectCategory(".developments__item:nth-last-child(1) ");var i=document.querySelector('.developments__item:nth-last-child(1) form[action*="change_category"]');N(i,i.action),document.querySelectorAll(".developments__item:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&R(t,t.action)})),t.querySelector('[name="name"]').value="",t.querySelectorAll(".preview").forEach((function(t){return t.remove()}));break;case window.location.origin+"/api/delete_development":var l=t.closest(".developments__item");l.classList.add("removing"),l.addEventListener("transitionend",(function(){return l.remove()}));break;case window.location.origin+"/api/change_development_preview_image":var u=t.closest(".developments__item");u.querySelector(".developments__thumbnail-img").src=e.development.development_preview_small,u.querySelector(".for-the-entire-window").dataset.big=e.development.development_preview_big,t.querySelector(".preview").remove();break;case window.location.origin+"/api/add_development_image":var d,s=document.querySelector(".development__thumbnail"),m=Object.keys(e.development_images).length;for(var f in e.development_images)s.insertAdjacentHTML("beforeend",O(e.development_images[f]));t.querySelector(".preview").remove(),document.querySelector(".development__thumbnail").children.length>1?(y(".development__thumbnail-image:nth-last-child(".concat(m+1,") ~ .development__thumbnail-image ")),h(".development__thumbnail-image:nth-last-child(".concat(m+1,") ~ .development__thumbnail-image ")),d=document.querySelectorAll(".development__thumbnail-image:nth-last-child(".concat(m+1,") ~ .development__thumbnail-image .form"))):(y(".development__thumbnail-image "),h(".development__thumbnail-image "),d=document.querySelectorAll(".development__thumbnail-image .form")),d.forEach((function(t){t.querySelector("button")&&R(t,t.action)}));break;case window.location.origin+"/api/delete_image_development":var v=t.closest(".development__thumbnail-image");v.classList.add("removing"),v.addEventListener("transitionend",(function(){return v.remove()}));break;case window.location.origin+"/api/add_article":t.querySelector(".form-box__input-text").value="",document.querySelector(".articles .grid").insertAdjacentHTML("beforeend",j(e)),document.querySelectorAll(".article:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&R(t,t.action)}));break;case window.location.origin+"/api/delete_article":var g=t.closest(".article");g.classList.add("removing"),g.addEventListener("transitionend",(function(){return g.remove()}));break;case window.location.origin+"/api/add_category":var _=document.querySelector(".categories");t.querySelector(".form-box__input-text").value="",_.insertAdjacentHTML("beforeend",k(e,!1,!1,!0)),document.querySelectorAll(".categories:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&R(t,t.action)}));break;case window.location.origin+"/api/change_category_name":t.parentElement.querySelector(".category__name").textContent=e.category;var w=t.closest(".category").querySelectorAll('.category__arrow-down [name="category"], .category__arrow-up [name="category"]');console.log(w),w.forEach((function(t){t.value=e.category}));break;case window.location.origin+"/api/delete_category":var S=t.closest(".category");S.classList.add("removing"),S.addEventListener("transitionend",(function(){return S.remove()}));break;case window.location.origin+"/api/up_rotate_category":for(var E,q,L=t.closest(".categories"),x=t.parentElement.parentElement,P=t.parentElement.parentElement.previousElementSibling,C=0;C<L.children.length;C++)x==L.children[C]&&(E=C+1);for(var D=0;D<L.children.length;D++)P==L.children[D]&&(q=D+1);if(x.remove(),P.insertAdjacentHTML("beforebegin",k(e,e.withoutCategory,e.min,e.max,!0,!1,!1)),P.querySelectorAll('[name="rotating_id"]').forEach((function(t){t.value=e.rotate_id})),(e.max||e.maximalTarget)&&P.querySelector(".category__arrow-down").remove(),e.min){P.insertAdjacentHTML("afterbegin",k(e,e.withoutCategory,!1,!1,!1,e.min,!1));var H=P.querySelector(".category__arrow-up .form");H.querySelector('[name="rotating_id"]').value=e.rotate_id,H.querySelector('[name="category"]').value=e.category_rotate,R(H,H.action),b(".category:nth-child(".concat(q,") "),!0,!1)}L.querySelectorAll(".rotating-category .form").forEach((function(t){R(t,t.action)})),b(".category:nth-child(".concat(E,") "),!1,!1),L.querySelector(".rotating-category").classList.remove("rotating-category");break;case window.location.origin+"/api/down_rotate_category":for(var B,F,z=t.closest(".categories"),I=t.parentElement.parentElement,U=t.parentElement.parentElement.nextElementSibling,W=0;W<z.children.length;W++)I==z.children[W]&&(B=W+1);for(var V=0;V<z.children.length;V++)U==z.children[V]&&(F=V+1);if(I.remove(),U.insertAdjacentHTML("afterend",k(e,e.withoutCategory,e.min,e.max,!0,!1,!1)),U.querySelectorAll('.category [name="rotating_id"]').forEach((function(t){t.value=e.rotate_id})),(e.min||e.minimalTarget)&&U.querySelector(".category__arrow-up").remove(),e.max){U.insertAdjacentHTML("beforeend",k(e,e.withoutCategory,!1,!1,!1,!1,e.max));var X=U.querySelector(".category__arrow-down .form");X.querySelector('[name="rotating_id"]').value=e.rotate_id,X.querySelector('[name="category"]').value=e.category_rotate,R(X,X.action),b(".category:nth-child(".concat(F,") "),!1,!0)}e.min&&U.querySelector(".category__arrow-up").remove(),z.querySelectorAll(".rotating-category .form").forEach((function(t){R(t,t.action)})),b(".category:nth-child(".concat(B,") "),!1,!1),z.querySelector(".rotating-category").classList.remove("rotating-category")}}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,'[enctype="multipart/form-data"]'));e.forEach((function(t){t.querySelectorAll('[type="button"]').forEach((function(t){t.addEventListener("click",(function(t){var e=[],n=t.target,o=n.parentElement.querySelector('[type="file"]');o.value="",o.click();var r=function t(r){var a;n.parentElement.querySelector(".preview")?a=n.parentElement.querySelector(".preview"):(a=document.createElement("div")).className="preview",n.insertAdjacentElement("afterend",a),e=Array.from(r.target.files),a.textContent="",e.forEach((function(t){if(t.type.match("image")){var e=new FileReader;e.onload=function(e){var n=e.target.result;a.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t\t\t<div class="preview__image">\n\t\t\t\t\t\t\t\t\t\t<div class="delete-image delete-image--preview__image">\n\t\t\t\t\t\t\t\t\t\t\t<svg class="delete-image__svg" data-name="'.concat(t.name,'" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img class="preview__img" src="').concat(n,'" alt="">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t'))},e.readAsDataURL(t)}})),o.removeEventListener("change",t);a.addEventListener("click",(function(t){if(t.target.dataset.name){var n=t.target.dataset.name;e=e.filter((function(t){return t.name!==n}));var o=document.querySelector('[data-name="'.concat(n,'"]')).closest(".preview__image");if(o.classList.add("removing"),1==o.parentElement.childElementCount){t.target.closest(".form-box").querySelector('[type="file"]').value="";var r=o.parentElement;o.addEventListener("transitionend",(function(){return o.remove()})),setTimeout((function(){return r.remove()}),300)}else o.addEventListener("transitionend",(function(){return o.remove()}))}}))};o.addEventListener("change",r);window.addEventListener("focus",(function t(){setTimeout((function(){o.removeEventListener("change",r),window.removeEventListener("focus",t)}),100)}))}))}))}))},g=function(){var t=document.querySelectorAll("img");var e=new IntersectionObserver((function(t,e){t.forEach((function(t){var e;t.intersectionRatio>0&&((e=t.target).src=e.getAttribute("data"))}))}),{root:null,threshold:.1});t.forEach((function(t){return e.observe(t)}))},_=function(){var t=document.querySelectorAll(".animate-emergence");function e(e){t.forEach((function(t){var e,n,o,r,a=t.offsetHeight,c=(e=t,n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,{top:n.top+r,left:n.left+o}).top,i=window.innerHeight-a/4;a>window.innerHeight&&(i=window.innerHeight-window.innerHeight/4),pageYOffset>c-i&&pageYOffset<c+a&&t.classList.add("animate-emergence--active")}))}window.addEventListener("scroll",e),setTimeout((function(){e()}),300)},y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,".for-the-entire-window"));e.forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.parentElement;e.classList.add("active");var n=document.querySelector("body");n.classList.add("modal-open");var o=document.createElement("div");o.className="modal";var r=document.createElement("div");r.className="modal__form";var a=document.createElement("div");a.className="modal__img";var c=document.createElement("img");c.src=t.target.dataset.big,c.alt="",c.className="modal__image";var i,l,u=document.createElement("div");u.className="modal__bg-modal";var d=!1,s=e.parentElement.classList.contains("imageNavigation")&&e.parentElement.children.length>1;if(s){var m=function(t){d=!1,v.remove();var n,o,r,a=e.parentElement.children;switch(t){case"+":n=a.length-1,r=-1,o=-1;break;case"-":n=0,r=a.length,o=1}for(var i=0;i<a.length;i++)if(a[i].classList.contains("active")){var l=i;i==n&&(i=r,l=n),c.src=a[i-o].querySelector(".for-the-entire-window").dataset.big,a[l].classList.remove("active"),a[i-o].classList.add("active");break}};(i=document.createElement("div")).className="modal__arrow-left",i.onclick=function(){return m("-")},(l=document.createElement("div")).className="modal__arrow-right",l.onclick=function(){return m("+")}}var v=document.createElement("div");function p(t){e.parentElement.querySelector(".active").classList.remove("active"),t.closest(".modal").remove(),n.classList.remove("modal-open")}v.className="modal__close",v.insertAdjacentHTML("afterbegin",f),v.onclick=function(){return p(v)},u.onclick=function(){return p(u)},a.append(c),s?r.append(u,a,i,l):r.append(u,a),o.append(r),document.body.append(o);var g=!1;document.documentElement.clientWidth<=1040&&(g=!0,v.style.top=""),window.onresize=function(){document.documentElement.clientWidth<=1040?(g=!0,v.style.top=""):g=!1};var _=document.querySelector(".modal__image").src,y=!0;setInterval((function(){document.querySelector(".modal__image")&&(document.querySelector(".modal__image").clientHeight>0&&(d||_==document.querySelector(".modal__image").src&&!y||(a.append(v),d=!0,y=!1),g||(v.style.top="".concat((document.querySelector(".modal__img").clientHeight-document.querySelector(".modal__image").clientHeight)/2,"px"))),_=document.querySelector(".modal__image").src)}),100)}))}))},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,".delete-image__svg"));e.forEach((function(t){t.addEventListener("click",(function(t){t.target.closest(".development__thumbnail-image").querySelector("button").click()}))}))},b=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=".category__arrow-up",a=".category__arrow-down";n&&(t=document.querySelectorAll("".concat(e).concat(r))),o&&(t=document.querySelectorAll("".concat(e).concat(a))),n&&o||(t=document.querySelectorAll("".concat(e).concat(r,", ").concat(e).concat(a))),t.forEach((function(t){t.onclick=function(){t.querySelector(".form__button--category").click()}}))},w=function(){var t,e=document.querySelector(".hamburger"),n=document.body;e.addEventListener("click",(function(){var t=document.createElement("div");t.className="modal",n.append(t),n.classList.add("modal-open");var e=document.querySelector("nav");e.style.visibility="unset";var o=document.createElement("div");o.className="nav__close",o.insertAdjacentHTML("afterbegin",f),e.prepend(o),o.addEventListener("click",(function(){n.classList.remove("modal-open"),e.style.visibility="hidden",t.remove(),o.remove()}))}));var o=document.querySelectorAll(".animate-emergence");document.documentElement.clientWidth<=1040&&o.forEach((function(t){t.classList.remove("animate-emergence")})),window.addEventListener("resize",(function(){if(document.documentElement.clientWidth>1040&&(t=!1),document.documentElement.clientWidth<=1040&&0==t){t=!0;var e=document.querySelector("nav");o.forEach((function(t){t.classList.remove("animate-emergence")})),e.style.visibility="hidden"}if(document.documentElement.clientWidth>1040&&(document.querySelector("nav").style.visibility="unset",o.forEach((function(t){t.classList.add("animate-emergence")})),document.querySelector(".nav__close"))){n.classList.remove("modal-open");var r=document.querySelector(".modal"),a=document.querySelector(".nav__close");r.remove(),a.remove()}}))},S=function(){document.querySelectorAll('textarea:not([name="message"]').forEach((function(t){var e,n,o,a={language:"ru",toolbar:["bold","italic","|","bulletedList","numberedList","|","undo","redo"],ckfinder:{uploadUrl:"".concat(window.location.origin,"/upload_ckfinder_image")}};t.classList.contains("ckfinder")&&(n=["bold","italic","|","bulletedList","numberedList","|","undo","redo","|","uploadImage"],o={uploadUrl:"".concat(window.location.origin,"/upload_ckfinder_image")},a.toolbar=n,a.ckfinder=o),ClassicEditor.create(t,a).then((function(t){return e=t})).catch((function(t){return console.error(t)})),setTimeout((function(){if(document.querySelector(".ck .ck-editor__editable")){var n=t.parentElement.querySelector(".ck .ck-editor__editable");if(n.querySelector("img")){var o=n.querySelectorAll("img"),a=r(/.*?\/{2}.*?\/(.*?\/).*/,{linkPath:1});o.forEach((function(t){var e=t.src,n=a.exec(e);t.src=e.replace(n.groups.linkPath,"")}))}n.addEventListener("DOMSubtreeModified",(function(){setTimeout((function(){t.value=e.getData()}))}))}}))}));var t=document.querySelectorAll(".baloon"),e=1;t.forEach((function(t){BalloonEditor.create(t,{language:"ru",toolbar:["bold","italic","|","bulletedList","numberedList","|","undo","redo"]}).then((function(n){D(t,e,n,window.location.origin+"/api/change_main_page_inf"),e+=1})).catch((function(t){return console.error(t)}))}))},E=function(){document.querySelectorAll("pre").forEach((function(t){var e=t.textContent;if(t.textContent="",t.insertAdjacentHTML("beforeend",e),t.querySelector("img")){var n=t.querySelectorAll("img"),o=r(/.*?\/{2}.*?\/(.*?\/).*/,{linkPath:1});n.forEach((function(t){var e=t.src,n=o.exec(e);t.src=e.replace(n.groups.linkPath,"")}))}}))},q=function(){var t=document.querySelector(".dropdown__list--sort");t.addEventListener("change",(function(){document.querySelectorAll(".developments__item").forEach((function(e){var n;e.classList.contains("non-select-category")&&e.classList.remove("non-select-category"),e.querySelector('[name="category"]')?n=e.querySelector('[name="category"]').value:e.querySelector(".categoryDev")&&(n=e.querySelector(".categoryDev").innerHTML),"Не выбрано"==t.value?e.classList.remove("non-select-category"):n!=t.value&&e.classList.add("non-select-category")}))}))},L=function(){var t=document.getElementById("upButton");t.addEventListener("click",(function(){return window.scrollTo(pageXOffset,0)})),window.addEventListener("scroll",(function(){pageYOffset<document.documentElement.clientHeight?(t.style.opacity=0,t.style.visibility="hidden"):(t.style.opacity=1,t.style.visibility="unset")}))},x=function(){var t=[],e=["image/"],n=document.querySelectorAll(".dragdrop");n.forEach((function(o){o.addEventListener("dragenter",(function(t){t.preventDefault(),o.classList.add("dragdrop--active")})),o.addEventListener("dragleave",(function(t){t.preventDefault(),o.classList.remove("dragdrop--active")})),o.addEventListener("dragover",(function(t){t.preventDefault()})),o.addEventListener("drop",(function(r){r.preventDefault();var a=r.target.querySelector('[type="file"]').multiple;t=[];var c=r.dataTransfer.files,i=!1;for(var l in c){var u=c[l].type;if(u&&(a||!i)){i=!0;for(var d=0,m=Object.entries(e);d<m.length;d++){var f=s(m[d],2),v=(f[0],f[1]);u.includes(v)&&t.push(c[l])}}}o.classList.remove("dragdrop--active"),n.forEach((function(t){return t.classList.remove("dragdrop--visible")}));var p=o.querySelector('[type="file"]');p.files=function(t){var e=new DataTransfer;for(var n in t)e.items.add(t[n]);return e.files}(t),function(t){var e,n=[],o=t.parentElement;o.querySelector(".preview")?e=o.querySelector(".preview"):(e=document.createElement("div")).className="preview",t.parentElement.querySelector('[type="button"]').insertAdjacentElement("afterend",e),n=Array.from(t.files),e.textContent="",n.forEach((function(t){if(t.type.match("image")){var n=new FileReader;n.onload=function(n){var o=n.target.result;e.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t\t<div class="preview__image">\n\t\t\t\t\t\t\t\t\t<div class="delete-image delete-image--preview__image">\n\t\t\t\t\t\t\t\t\t\t<svg class="delete-image__svg" data-name="'.concat(t.name,'" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<img class="preview__img" src="').concat(o,'" alt="">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t'))},n.readAsDataURL(t)}})),e.addEventListener("click",(function(t){if(t.target.dataset.name){var e=t.target.dataset.name;n=n.filter((function(t){return t.name!==e}));var o=document.querySelector('[data-name="'.concat(e,'"]')).closest(".preview__image");if(o.classList.add("removing"),1==o.parentElement.childElementCount){var r=o.parentElement;o.addEventListener("transitionend",(function(){return o.remove()})),setTimeout((function(){return r.remove()}),300)}else o.addEventListener("transitionend",(function(){return o.remove()}))}}))}(p)}))}));var o=null;document.addEventListener("dragenter",(function(t){t.preventDefault(),o=t.target,n.forEach((function(t){return t.classList.add("dragdrop--visible")}))})),document.addEventListener("dragleave",(function(t){t.preventDefault(),o==t.target&&n.forEach((function(t){return t.classList.remove("dragdrop--visible")}))})),document.addEventListener("mouseenter",(function(){n.forEach((function(t){t.classList.remove("dragdrop--active"),t.classList.remove("dragdrop--visible")}))}))},A=v.patent_item_add,T=v.development_item_add,O=v.development_images_add,k=v.category_add,j=v.article_add,P=v.sendRequest,M=v.changedNamePatent,C=v.changedTextAboutUs,D=v.change_main_page_inf,H=v.changedNameAndDescDev,N=v.changeCategory,B=v.response,R=v.requestBtn}});