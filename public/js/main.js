!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=1)}({1:function(t,e,n){t.exports=n("8yrV")},"8yrV":function(t,e,n){"use strict";n.r(e);var o=n("QoMa");document.addEventListener("DOMContentLoaded",(function(){document.querySelector('[enctype="multipart/form-data"]:not(.change-image)')&&Object(o.uploadFiles)(),document.querySelector("img")&&Object(o.lazyLoadImage)(),document.querySelector(".animate-emergence")&&Object(o.animateEmergence)(),document.querySelector(".for-the-entire-window")&&Object(o.forTheEntireWindow)(),document.querySelector(".delete-image")&&Object(o.deleteImage)(),document.querySelector(".rotate-categories")&&Object(o.rotateCategory)(),document.querySelector(".hamburger")&&Object(o.hamburger)(),(document.querySelector("textarea")||document.querySelector(".baloon")&&document.querySelector("#balloon"))&&Object(o.textEditor)(),document.querySelector(".change-image")&&Object(o.changeImage)(),document.querySelector(".dropdown__list--sort")&&Object(o.sortCategory)(),document.querySelector("#upButton")&&Object(o.upButton)(),document.querySelector(".dragdrop")&&Object(o.dragAndDrop)()}))},QoMa:function(t,e,n){"use strict";function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,r,a=[],c=!0,i=!1;try{for(n=n.call(t);!(c=(o=n.next()).done)&&(a.push(o.value),!e||a.length!==e);c=!0);}catch(t){i=!0,r=t}finally{try{c||null==n.return||n.return()}finally{if(i)throw r}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.r(e),n.d(e,"uploadFiles",(function(){return i})),n.d(e,"lazyLoadImage",(function(){return l})),n.d(e,"animateEmergence",(function(){return d})),n.d(e,"forTheEntireWindow",(function(){return u})),n.d(e,"deleteImage",(function(){return m})),n.d(e,"rotateCategory",(function(){return s})),n.d(e,"hamburger",(function(){return v})),n.d(e,"textEditor",(function(){return f})),n.d(e,"changeImage",(function(){return p})),n.d(e,"sortCategory",(function(){return g})),n.d(e,"upButton",(function(){return _})),n.d(e,"dragAndDrop",(function(){return y})),n.d(e,"patent_item_add",(function(){return h})),n.d(e,"development_item_add",(function(){return b})),n.d(e,"development_images_add",(function(){return w})),n.d(e,"category_add",(function(){return S})),n.d(e,"article_add",(function(){return E})),n.d(e,"sendRequest",(function(){return q})),n.d(e,"changedNamePatent",(function(){return L})),n.d(e,"changedTextAboutUs",(function(){return x})),n.d(e,"change_main_page_inf",(function(){return A})),n.d(e,"changedNameAndDescDev",(function(){return T})),n.d(e,"changeCategory",(function(){return O})),n.d(e,"response",(function(){return k})),n.d(e,"requestBtn",(function(){return j}));var a='\n\t<svg class="delete-image__svg" viewBox="0 0 352 512">\n\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t</path>\n\t</svg>\n',c={patent_item_add:function(t){return'\n\t\t\t\t<div class="patents__item">\n\t\t\t\t\t<div class="patents__thumbnail">\n\t\t\t\t\t\t<div class="patents__thumbnail-image for-the-entire-window"><img class="patents__thumbnail-img" src="'.concat(t.patent.patent_preview_small,'" data="').concat(t.patent.patent_preview_small,'" data-big="').concat(t.patent.patent_preview_big,'" alt=""></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form form--change-text" action="').concat(window.location.origin,'/api/change_information_patent" method="POST">\n\t\t\t\t\t\t<div class="form-box form-box--patents">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="hidden" name="id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t\t<input class="form-box__input-text form-box__input-text--patents" type="text" name="name" value="').concat(t.patent.name,'">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form patents__form" action="').concat(window.location.origin,'/api/change_patent" method="POST" enctype="multipart/form-data">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t<div class="form-box form-box--patents">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="file" name="image_patent" accept="image/*">\n\t\t\t\t\t\t\t<input class="input-button form-box__input-btn" type="button" value="Обзор">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button">Загрузить другую картинку</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form patents__form" action="').concat(window.location.origin,'/api/delete_patent" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="patent_id" value="').concat(t.patent.id,'">\n\t\t\t\t\t\t<button class="form__button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t')},development_item_add:function(t,e){return'\n\t\t\t\t<div class="developments__item">\n\t\t\t\t\t<div class="developments__thumbnail">\n\t\t\t\t\t\t<img class="developments__thumbnail-img for-the-entire-window" src="'.concat(t.development.development_preview_small,'" data="').concat(t.development.development_preview_small,'" data-big="').concat(t.development.development_preview_big,'" alt="">\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="developments__name">').concat(t.development.name,'</span>\n\t\t\t\t\t<span class="caption">Категория</span>\n\t\t\t\t\t<div class="dropdown dropdown--select-category">\n\t\t\t\t\t\t<form class="form form--dropdown" action="').concat(window.location.origin,'/api/change_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t\t<select class="dropdown__list dropdown__list--select-category dropdown__list--change-category" name="category">\n\t\t\t\t\t\t\t\t<option class="dropdown__item dropdown__item--disabled" disabled>Категория:</option>\n\t\t\t\t\t\t\t\t').concat(e,'\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form developments__item--form" action="').concat(window.location.origin,'/api/change_development_preview_image" method="POST" enctype="multipart/form-data">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t<div class="form-box">\n\t\t\t\t\t\t\t<input class="form-box__input-file" type="file" name="preview_development" accept="image/*">\n\t\t\t\t\t\t\t<input class="input-button form-box__input-btn" type="button" value="Обзор">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button">Загрузить другую картинку</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<form class="form" class="delete_development" action="').concat(window.location.origin,'/api/delete_development" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.development.id,'">\n\t\t\t\t\t\t<button class="form__button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<hr>\n\t\t\t\t\t<a class="link button" href="').concat(window.location.origin,"/development/").concat(t.development.id,'">Подробнее</a>\n\t\t\t\t</div>\n\t\t\t')},development_images_add:function(t){return'\n\t\t\t\t<div class="development__thumbnail-image">\n\t\t\t\t\t<img class="development__thumbnail-img for-the-entire-window" src="'.concat(window.location.origin,"/").concat(t.development_preview_small,'" data="').concat(window.location.origin,"/").concat(t.development_preview_small,'" data-big="').concat(window.location.origin,"/").concat(t.development_preview_big,'" alt="">\n\t\t\t\t\t<div class="delete-image">\n\t\t\t\t\t\t<svg class="delete-image__svg" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<form class="form form--development__thumbnail" action="').concat(window.location.origin,'/api/delete_image_development" method="POST">\n\t\t\t\t\t\t<input type="hidden" name="path" value="').concat(t.development_preview_small,'">\n\t\t\t\t\t\t<button class="form__button">Удалить изображение</button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t')},category_add:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i="",l="",d="",u="";return n&&!a||(i='\n\t\t\t\t\t<div class="category__arrow-up">\n\t\t\t\t\t\t<form class="form form--category" action="'.concat(window.location.origin,'/api/up_rotate_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="rotating_id" value="').concat(t.rotating_id,'">\n\t\t\t\t\t\t\t<input type="hidden" name="category" value="').concat(t.category,'">\n\t\t\t\t\t\t\t<button class="form__button form__button--category">Изменить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t'),!a)?o&&!c||(l='\n\t\t\t\t\t<div class="category__arrow-down">\n\t\t\t\t\t\t<form class="form form--category" action="'.concat(window.location.origin,'/api/down_rotate_category" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="rotating_id" value="').concat(t.rotating_id,'">\n\t\t\t\t\t\t\t<input type="hidden" name="category" value="').concat(t.category,'">\n\t\t\t\t\t\t\t<button class="form__button form__button--category">Изменить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<svg viewBox="0 0 512 512">\n\t\t\t\t\t\t\t<path fill="currentColor" d="M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-143.6-28.9L288 302.6V120c0-13.3-10.7-24-24-24h-16c-13.3 0-24 10.7-24 24v182.6l-72.4-75.5c-9.3-9.7-24.8-9.9-34.3-.4l-10.9 11c-9.4 9.4-9.4 24.6 0 33.9L239 404.3c9.4 9.4 24.6 9.4 33.9 0l132.7-132.7c9.4-9.4 9.4-24.6 0-33.9l-10.9-11c-9.5-9.5-25-9.3-34.3.4z">\n\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t'),!c)?(e||(d='\n\t\t\t\t\t<form class="form form--admin" action="'.concat(window.location.origin,'/api/change_category_name" method="POST">\n\t\t\t\t\t\t<input type="hidden" value="').concat(t.id,'" name="id">\n\t\t\t\t\t\t<div class="form-box form-box--admin">\n\t\t\t\t\t\t\t<input class="form-box__input-text" type="text" value="').concat(t.category,'" name="category">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button class="form__button button">Изменить</button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<form class="form form--admin" action="').concat(window.location.origin,'/api/delete_category" method="POST">\n\t\t\t\t\t\t<input type="hidden" value="').concat(t.id,'" name="id">\n\t\t\t\t\t\t<button class="form__button button">Удалить</button>\n\t\t\t\t\t</form>\n\t\t\t\t')),r&&(u="rotating-category"),'\n\t\t\t\t<div class="category '.concat(u,'">\n\t\t\t\t\t').concat(i,"\n\t\t\t\t\t").concat(l,'\n\t\t\t\t\t<div class="category__right-block">\n\t\t\t\t\t\t<span class="category__name">').concat(t.category,"</span>\n\t\t\t\t\t\t").concat(d,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t")):l:i},article_add:function(t){return'\n\t\t\t\t<div class="article">\n\t\t\t\t\t<span class="article__name">'.concat(t.name,'</span>\n\t\t\t\t\t<div class="article__buttons">\n\t\t\t\t\t\t<form action="').concat(window.location.origin,'/api/delete_article" method="POST">\n\t\t\t\t\t\t\t<input type="hidden" name="id" value="').concat(t.id,'">\n\t\t\t\t\t\t\t<button class="form__button article__button">Удалить</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<a class="link button article__button" href="').concat(window.location.origin,"/article/").concat(t.id,'">Читать далее...</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t')},sendRequest:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(o,r){var a=new XMLHttpRequest;a.open(t,e),a.responseType="json",a.setRequestHeader("Accept","application/json"),document.querySelector('meta[name="api_token"]')&&a.setRequestHeader("Authorization","Bearer ".concat(document.querySelector('meta[name="api_token"]').content)),a.setRequestHeader("X-CSRF-TOKEN",document.querySelector('meta[name="csrf-token"]').content),a.onload=function(){a.status>=400?r(a.response):o(a.response)},a.onerror=function(){return r(a.response)},a.send(n)}))},changedNamePatent:function(t,e){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=t.querySelector("".concat(o,".form-box__input-text--patents")),a=!1;r.addEventListener("input",(function(){r.defaultValue=r.value;var o=new FormData(t);1==a&&clearTimeout(n),a=!0,n=setTimeout((function(){q("POST",e,o).catch((function(t){return console.log(t)})),a=!1}),500)}))},changedTextAboutUs:function(t,e){var n,o=document.querySelector(".form-box__textarea--about-us"),r=!1,a=o.value;setInterval((function(){if(o.value!=a){var c=new FormData(t);1==r&&clearTimeout(n),r=!0,n=setTimeout((function(){q("POST",e,c).catch((function(t){return console.log(t)})),r=!1}),500)}a=o.value}),500)},change_main_page_inf:function(t,e,n,o){t.addEventListener("DOMSubtreeModified",(function(){var t=new FormData;t.append("id",e),t.append("text",n.getData()),q("POST",o,t).catch((function(t){return console.log(t)}))}))},changedNameAndDescDev:function(t,e){var n;document.querySelector(".development__input-text, .development__textarea")?n=document.querySelectorAll(".development__input-text, .development__textarea"):document.querySelector(".form-box__input-text--article, .article__text")&&(n=document.querySelectorAll(".form-box__input-text--article, .article__text")),n.forEach((function(n){var o,r=!1;if("textarea"==n.type){var a=n.value;setInterval((function(){if(n.value!=a){var c=new FormData(t);1==r&&clearTimeout(o),r=!0,o=setTimeout((function(){q("POST",e,c).catch((function(t){return console.log(t)})),r=!1}),500)}a=n.value}),500)}n.addEventListener("input",(function(){var n=new FormData(t);1==r&&clearTimeout(o),r=!0,o=setTimeout((function(){q("POST",e,n).catch((function(t){return console.log(t)})),r=!1}),500)}))}))},changeCategory:function(t,e){t.parentElement.querySelector(".dropdown__list--change-category").addEventListener("change",(function(){var n=new FormData(t);q("POST",e,n).catch((function(t){return console.log(t)}))}))},requestBtn:function(t,e){t.querySelector("button").addEventListener("click",(function(n){n.preventDefault();var o=new FormData(t);t.classList.add("formSend"),t.querySelector(".form__button").classList.add("sendFormButton"),q("POST",e,o).then((function(n){t.querySelector(".error")&&t.querySelectorAll(".error").forEach((function(t){return t.remove()}));k(t,n,e)})).catch((function(e){(t.classList.remove("formSend"),t.querySelector(".form__button").classList.remove("sendFormButton"),t.querySelector(".error"))&&t.querySelectorAll(".error").forEach((function(t){return t.remove()}));for(var n in e.errors){var o=t.querySelector('[name*="'.concat(n,'"]')),r=document.createElement("div");r.className="error",r.textContent="".concat(e.errors[n]),"selectCategory"!=o.parentElement.id?t.insertBefore(r,o.parentElement):t.insertBefore(r,o.parentElement.parentElement)}}))}))},response:function(t,e,n){t.classList.remove("formSend"),t.querySelector(".form__button").classList.remove("sendFormButton");var o=document.createElement("div");(o.className="successPopUp",o.textContent="Выполнено успешно",document.body.append(o),setTimeout((function(){return o.remove()}),3e3),t.querySelector('[type="file"]'))&&t.querySelectorAll('[type="file"]').forEach((function(t){return t.value=null}));switch(n){case window.location.origin+"/api/upload_patent":document.querySelector(".grid--patents").insertAdjacentHTML("beforeend",h(e)),t.querySelector('[name="name"]').value="",t.querySelector(".preview").remove(),u(".patents__item:nth-last-child(1) "),i(".patents__item:nth-last-child(1) "),document.querySelectorAll(".patents__item:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&j(t,t.action)}));var r=document.querySelector('.patents__item:nth-last-child(1) [name="name"]').closest("form");L(r,r.action,".patents__item:nth-last-child(1) ");break;case window.location.origin+"/api/delete_patent":var a=t.closest(".patents__item");a.classList.add("removing"),a.addEventListener("transitionend",(function(){return a.remove()}));break;case window.location.origin+"/api/change_patent":var c=t.closest(".patents__item");c.querySelector(".patents__thumbnail-img").src=e.patent.patent_preview_small,c.querySelector(".for-the-entire-window img").dataset.big=e.patent.patent_preview_big,t.querySelector(".preview").remove();break;case window.location.origin+"/api/upload_development":document.querySelector(".grid--developments").insertAdjacentHTML("beforeend",b(e,function(){for(var t=e.development.category,n=e.development.categories,o="",r=0;r<n.length;r++)t==n[r]?o+='<option class="dropdown__item" selected>'.concat(n[r],"</option>\n"):o+='<option class="dropdown__item">'.concat(n[r],"</option>\n");return o}())),i(".developments__item:nth-last-child(1) "),u(".developments__item:nth-last-child(1) ");var l=document.querySelector('.developments__item:nth-last-child(1) form[action*="change_category"]');O(l,l.action),document.querySelectorAll(".developments__item:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&j(t,t.action)})),t.querySelector('[name="name"]').value="",t.querySelectorAll(".preview").forEach((function(t){return t.remove()}));break;case window.location.origin+"/api/delete_development":var d=t.closest(".developments__item");d.classList.add("removing"),d.addEventListener("transitionend",(function(){return d.remove()}));break;case window.location.origin+"/api/change_development_preview_image":var v=t.closest(".developments__item");v.querySelector(".developments__thumbnail-img").src=e.development.development_preview_small,v.querySelector(".for-the-entire-window").dataset.big=e.development.development_preview_big,t.querySelector(".preview").remove();break;case window.location.origin+"/api/add_development_image":var f,p=document.querySelector(".development__thumbnail"),g=Object.keys(e.development_images).length;for(var _ in e.development_images)p.insertAdjacentHTML("beforeend",w(e.development_images[_]));t.querySelector(".preview").remove(),document.querySelector(".development__thumbnail").children.length>1?(u(".development__thumbnail-image:nth-last-child(".concat(g+1,") ~ .development__thumbnail-image ")),m(".development__thumbnail-image:nth-last-child(".concat(g+1,") ~ .development__thumbnail-image ")),f=document.querySelectorAll(".development__thumbnail-image:nth-last-child(".concat(g+1,") ~ .development__thumbnail-image .form"))):(u(".development__thumbnail-image "),m(".development__thumbnail-image "),f=document.querySelectorAll(".development__thumbnail-image .form")),f.forEach((function(t){t.querySelector("button")&&j(t,t.action)}));break;case window.location.origin+"/api/delete_image_development":var y=t.closest(".development__thumbnail-image");y.classList.add("removing"),y.addEventListener("transitionend",(function(){return y.remove()}));break;case window.location.origin+"/api/add_article":t.querySelector(".form-box__input-text").value="",document.querySelector(".articles .grid").insertAdjacentHTML("beforeend",E(e)),document.querySelectorAll(".article:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&j(t,t.action)}));break;case window.location.origin+"/api/delete_article":var q=t.closest(".article");q.classList.add("removing"),q.addEventListener("transitionend",(function(){return q.remove()}));break;case window.location.origin+"/api/add_category":var x=document.querySelector(".categories");t.querySelector(".form-box__input-text").value="",x.insertAdjacentHTML("beforeend",S(e,!1,!1,!0)),document.querySelectorAll(".categories:nth-last-child(1) .form").forEach((function(t){t.querySelector("button")&&j(t,t.action)}));break;case window.location.origin+"/api/change_category_name":t.parentElement.querySelector(".category__name").textContent=e.category;var A=t.closest(".category").querySelectorAll('.category__arrow-down [name="category"], .category__arrow-up [name="category"]');console.log(A),A.forEach((function(t){t.value=e.category}));break;case window.location.origin+"/api/delete_category":var T=t.closest(".category");T.classList.add("removing"),T.addEventListener("transitionend",(function(){return T.remove()}));break;case window.location.origin+"/api/up_rotate_category":for(var k,M,D=t.closest(".categories"),C=t.parentElement.parentElement,P=t.parentElement.parentElement.previousElementSibling,H=0;H<D.children.length;H++)C==D.children[H]&&(k=H+1);for(var B=0;B<D.children.length;B++)P==D.children[B]&&(M=B+1);if(C.remove(),P.insertAdjacentHTML("beforebegin",S(e,e.withoutCategory,e.min,e.max,!0,!1,!1)),P.querySelectorAll('[name="rotating_id"]').forEach((function(t){t.value=e.rotate_id})),(e.max||e.maximalTarget)&&P.querySelector(".category__arrow-down").remove(),e.min){P.insertAdjacentHTML("afterbegin",S(e,e.withoutCategory,!1,!1,!1,e.min,!1));var N=P.querySelector(".category__arrow-up .form");N.querySelector('[name="rotating_id"]').value=e.rotate_id,N.querySelector('[name="category"]').value=e.category_rotate,j(N,N.action),s(".category:nth-child(".concat(M,") "),!0,!1)}D.querySelectorAll(".rotating-category .form").forEach((function(t){j(t,t.action)})),s(".category:nth-child(".concat(k,") "),!1,!1),D.querySelector(".rotating-category").classList.remove("rotating-category");break;case window.location.origin+"/api/down_rotate_category":for(var F,I,R=t.closest(".categories"),z=t.parentElement.parentElement,U=t.parentElement.parentElement.nextElementSibling,W=0;W<R.children.length;W++)z==R.children[W]&&(F=W+1);for(var V=0;V<R.children.length;V++)U==R.children[V]&&(I=V+1);if(z.remove(),U.insertAdjacentHTML("afterend",S(e,e.withoutCategory,e.min,e.max,!0,!1,!1)),U.querySelectorAll('.category [name="rotating_id"]').forEach((function(t){t.value=e.rotate_id})),(e.min||e.minimalTarget)&&U.querySelector(".category__arrow-up").remove(),e.max){U.insertAdjacentHTML("beforeend",S(e,e.withoutCategory,!1,!1,!1,!1,e.max));var X=U.querySelector(".category__arrow-down .form");X.querySelector('[name="rotating_id"]').value=e.rotate_id,X.querySelector('[name="category"]').value=e.category_rotate,j(X,X.action),s(".category:nth-child(".concat(I,") "),!1,!0)}e.min&&U.querySelector(".category__arrow-up").remove(),R.querySelectorAll(".rotating-category .form").forEach((function(t){j(t,t.action)})),s(".category:nth-child(".concat(F,") "),!1,!1),R.querySelector(".rotating-category").classList.remove("rotating-category")}}},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,'[enctype="multipart/form-data"]'));e.forEach((function(t){t.querySelectorAll('[type="button"]').forEach((function(t){t.addEventListener("click",(function(t){var e=[],n=t.target,o=n.parentElement.querySelector('[type="file"]');o.value="",o.click();var r=function t(r){var a;n.parentElement.querySelector(".preview")?a=n.parentElement.querySelector(".preview"):(a=document.createElement("div")).className="preview",n.insertAdjacentElement("afterend",a),e=Array.from(r.target.files),a.textContent="",e.forEach((function(t){if(t.type.match("image")){var e=new FileReader;e.onload=function(e){var n=e.target.result;a.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t\t\t<div class="preview__image">\n\t\t\t\t\t\t\t\t\t\t<div class="delete-image delete-image--preview__image">\n\t\t\t\t\t\t\t\t\t\t\t<svg class="delete-image__svg" data-name="'.concat(t.name,'" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img class="preview__img" src="').concat(n,'" alt="">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t'))},e.readAsDataURL(t)}})),o.removeEventListener("change",t);a.addEventListener("click",(function(t){if(t.target.dataset.name){var n=t.target.dataset.name;e=e.filter((function(t){return t.name!==n}));var o=document.querySelector('[data-name="'.concat(n,'"]')).closest(".preview__image");if(o.classList.add("removing"),1==o.parentElement.childElementCount){t.target.closest(".form-box").querySelector('[type="file"]').value="";var r=o.parentElement;o.addEventListener("transitionend",(function(){return o.remove()})),setTimeout((function(){return r.remove()}),300)}else o.addEventListener("transitionend",(function(){return o.remove()}))}}))};o.addEventListener("change",r);window.addEventListener("focus",(function t(){setTimeout((function(){o.removeEventListener("change",r),window.removeEventListener("focus",t)}),100)}))}))}))}))},l=function(){var t=document.querySelectorAll("img:not([src])");var e=new IntersectionObserver((function(t,e){t.forEach((function(t){var e;t.intersectionRatio>0&&((e=t.target).src=e.getAttribute("data"))}))}),{root:null,threshold:.1});t.forEach((function(t){return e.observe(t)}))},d=function(){var t=document.querySelectorAll(".animate-emergence");function e(e){t.forEach((function(t){var e,n,o,r,a=t.offsetHeight,c=(e=t,n=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,{top:n.top+r,left:n.left+o}).top,i=window.innerHeight-a/4;a>window.innerHeight&&(i=window.innerHeight-window.innerHeight/4),pageYOffset>c-i&&pageYOffset<c+a&&t.classList.add("animate-emergence--active")}))}window.addEventListener("scroll",e),setTimeout((function(){e()}),300)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,".for-the-entire-window"));e.forEach((function(t){t.addEventListener("click",(function(t){var e=t.target.parentElement;e.classList.add("active");var n=document.querySelector("body");n.classList.add("modal-open");var o=document.createElement("div");o.className="modal";var r=document.createElement("div");r.className="modal__form";var c=document.createElement("div");c.className="modal__img";var i=document.createElement("img");i.src=t.target.dataset.big,i.alt="",i.className="modal__image";var l,d,u=document.createElement("div");u.className="modal__bg-modal";var m=!1,s=e.parentElement.classList.contains("imageNavigation")&&e.parentElement.children.length>1;if(s){var v=function(t){m=!1,f.remove();var n,o,r,a=e.parentElement.children;switch(t){case"+":n=a.length-1,r=-1,o=-1;break;case"-":n=0,r=a.length,o=1}for(var c=0;c<a.length;c++)if(a[c].classList.contains("active")){var l=c;c==n&&(c=r,l=n),i.src=a[c-o].querySelector(".for-the-entire-window").dataset.big,a[l].classList.remove("active"),a[c-o].classList.add("active");break}};(l=document.createElement("div")).className="modal__arrow-left",l.onclick=function(){return v("-")},(d=document.createElement("div")).className="modal__arrow-right",d.onclick=function(){return v("+")}}var f=document.createElement("div");function p(t){e.parentElement.querySelector(".active").classList.remove("active"),t.closest(".modal").remove(),n.classList.remove("modal-open")}f.className="modal__close",f.insertAdjacentHTML("afterbegin",a),f.onclick=function(){return p(f)},u.onclick=function(){return p(u)},c.append(i),s?r.append(u,c,l,d):r.append(u,c),o.append(r),document.body.append(o);var g=!1;document.documentElement.clientWidth<=1040&&(g=!0,f.style.top=""),window.onresize=function(){document.documentElement.clientWidth<=1040?(g=!0,f.style.top=""):g=!1};var _=document.querySelector(".modal__image").src,y=!0;setInterval((function(){document.querySelector(".modal__image")&&(document.querySelector(".modal__image").clientHeight>0&&(m||_==document.querySelector(".modal__image").src&&!y||(c.append(f),m=!0,y=!1),g||(f.style.top="".concat((document.querySelector(".modal__img").clientHeight-document.querySelector(".modal__image").clientHeight)/2,"px"))),_=document.querySelector(".modal__image").src)}),100)}))}))},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.querySelectorAll("".concat(t,".delete-image__svg"));e.forEach((function(t){t.addEventListener("click",(function(t){t.target.closest(".development__thumbnail-image").querySelector("button").click()}))}))},s=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=".category__arrow-up",a=".category__arrow-down";n&&(t=document.querySelectorAll("".concat(e).concat(r))),o&&(t=document.querySelectorAll("".concat(e).concat(a))),n&&o||(t=document.querySelectorAll("".concat(e).concat(r,", ").concat(e).concat(a))),t.forEach((function(t){t.onclick=function(){t.querySelector(".form__button--category").click()}}))},v=function(){var t,e=document.querySelector(".hamburger"),n=document.body;e.addEventListener("click",(function(){var t=document.createElement("div");t.className="modal",n.append(t),n.classList.add("modal-open");var e=document.querySelector("nav");e.style.visibility="unset";var o=document.createElement("div");o.className="nav__close",o.insertAdjacentHTML("afterbegin",a),e.prepend(o),o.addEventListener("click",(function(){n.classList.remove("modal-open"),e.style.visibility="hidden",t.remove(),o.remove()}))}));var o=document.querySelectorAll(".animate-emergence");document.documentElement.clientWidth<=1040&&o.forEach((function(t){t.classList.remove("animate-emergence")})),window.addEventListener("resize",(function(){if(document.documentElement.clientWidth>1040&&(t=!1),document.documentElement.clientWidth<=1040&&0==t){t=!0;var e=document.querySelector("nav");o.forEach((function(t){t.classList.remove("animate-emergence")})),e.style.visibility="hidden"}if(document.documentElement.clientWidth>1040&&(document.querySelector("nav").style.visibility="unset",o.forEach((function(t){t.classList.add("animate-emergence")})),document.querySelector(".nav__close"))){n.classList.remove("modal-open");var r=document.querySelector(".modal"),a=document.querySelector(".nav__close");r.remove(),a.remove()}}))},f=function(){document.querySelectorAll('textarea:not([name="message"]').forEach((function(t){var e,n,o,r={language:"ru",toolbar:["bold","italic","|","bulletedList","numberedList","|","undo","redo"],ckfinder:{uploadUrl:"".concat(window.location.origin,"/upload_ckfinder_image")}};t.classList.contains("ckfinder")&&(n=["bold","italic","|","bulletedList","numberedList","|","undo","redo","|","uploadImage"],o={uploadUrl:"".concat(window.location.origin,"/upload_ckfinder_image")},r.toolbar=n,r.ckfinder=o),ClassicEditor.create(t,r).then((function(t){return e=t})).catch((function(t){return console.error(t)})),setTimeout((function(){document.querySelector(".ck .ck-editor__editable")&&t.parentElement.querySelector(".ck .ck-editor__editable").addEventListener("DOMSubtreeModified",(function(){setTimeout((function(){t.value=e.getData()}))}))}))}));var t=document.querySelectorAll(".baloon"),e=1;t.forEach((function(t){BalloonEditor.create(t,{language:"ru",toolbar:["bold","italic","|","bulletedList","numberedList","|","undo","redo"]}).then((function(n){A(t,e,n,window.location.origin+"/api/change_main_page_inf"),e+=1})).catch((function(t){return console.error(t)}))}))},p=function(){document.querySelectorAll(".change-image__button").forEach((function(t){t.addEventListener("click",(function(){var e=t.closest(".form"),n=e.querySelector('[type="file"]');function o(){n.removeEventListener("change",o),e.querySelector("button").click()}n.addEventListener("change",o),n.click(),window.addEventListener("focus",(function(){setTimeout((function(){n.removeEventListener("change",o)}),100)}))}))}))},g=function(){var t=document.querySelector(".dropdown__list--sort");t.addEventListener("change",(function(){document.querySelectorAll(".developments__item").forEach((function(e){var n;e.classList.contains("non-select-category")&&e.classList.remove("non-select-category"),e.querySelector('[name="category"]')?n=e.querySelector('[name="category"]').value:e.querySelector(".categoryDev")&&(n=e.querySelector(".categoryDev").innerHTML),"Не выбрано"==t.value?e.classList.remove("non-select-category"):n!=t.value&&e.classList.add("non-select-category")}))}))},_=function(){var t=document.getElementById("upButton");t.addEventListener("click",(function(){return window.scrollTo(pageXOffset,0)})),window.addEventListener("scroll",(function(){pageYOffset<document.documentElement.clientHeight?(t.style.opacity=0,t.style.visibility="hidden"):(t.style.opacity=1,t.style.visibility="unset")}))},y=function(){var t=[],e=["image/"],n=document.querySelectorAll(".dragdrop");n.forEach((function(r){r.addEventListener("dragenter",(function(t){t.preventDefault(),r.classList.add("dragdrop--active")})),r.addEventListener("dragleave",(function(t){t.preventDefault(),r.classList.remove("dragdrop--active")})),r.addEventListener("dragover",(function(t){t.preventDefault()})),r.addEventListener("drop",(function(a){a.preventDefault();var c=a.target.querySelector('[type="file"]').multiple;t=[];var i=a.dataTransfer.files,l=!1;for(var d in i){var u=i[d].type;if(u&&(c||!l)){l=!0;for(var m=0,s=Object.entries(e);m<s.length;m++){var v=o(s[m],2),f=(v[0],v[1]);u.includes(f)&&t.push(i[d])}}}r.classList.remove("dragdrop--active"),n.forEach((function(t){return t.classList.remove("dragdrop--visible")}));var p=r.querySelector('[type="file"]');p.files=function(t){var e=new DataTransfer;for(var n in t)e.items.add(t[n]);return e.files}(t),function(t){var e,n=[],o=t.parentElement;o.querySelector(".preview")?e=o.querySelector(".preview"):(e=document.createElement("div")).className="preview",t.parentElement.querySelector('[type="button"]').insertAdjacentElement("afterend",e),n=Array.from(t.files),e.textContent="",n.forEach((function(t){if(t.type.match("image")){var n=new FileReader;n.onload=function(n){var o=n.target.result;e.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t\t<div class="preview__image">\n\t\t\t\t\t\t\t\t\t<div class="delete-image delete-image--preview__image">\n\t\t\t\t\t\t\t\t\t\t<svg class="delete-image__svg" data-name="'.concat(t.name,'" viewBox="0 0 352 512">\n\t\t\t\t\t\t\t\t\t\t\t<path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<img class="preview__img" src="').concat(o,'" alt="">\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t'))},n.readAsDataURL(t)}})),e.addEventListener("click",(function(t){if(t.target.dataset.name){var e=t.target.dataset.name;n=n.filter((function(t){return t.name!==e}));var o=document.querySelector('[data-name="'.concat(e,'"]')).closest(".preview__image");if(o.classList.add("removing"),1==o.parentElement.childElementCount){var r=o.parentElement;o.addEventListener("transitionend",(function(){return o.remove()})),setTimeout((function(){return r.remove()}),300)}else o.addEventListener("transitionend",(function(){return o.remove()}))}}))}(p)}))}));var r=null;document.addEventListener("dragenter",(function(t){t.preventDefault(),r=t.target,n.forEach((function(t){return t.classList.add("dragdrop--visible")}))})),document.addEventListener("dragleave",(function(t){t.preventDefault(),r==t.target&&n.forEach((function(t){return t.classList.remove("dragdrop--visible")}))})),document.addEventListener("mouseenter",(function(){n.forEach((function(t){t.classList.remove("dragdrop--active"),t.classList.remove("dragdrop--visible")}))}))},h=c.patent_item_add,b=c.development_item_add,w=c.development_images_add,S=c.category_add,E=c.article_add,q=c.sendRequest,L=c.changedNamePatent,x=c.changedTextAboutUs,A=c.change_main_page_inf,T=c.changedNameAndDescDev,O=c.changeCategory,k=c.response,j=c.requestBtn}});